---
layout: layouts/base.njk
templateClass: tmpl-post
---

<h1>{{ title }}</h1>
<time datetime="{{ page.date | htmlDateString }}">{{
  page.date | readableDate
}}</time>
Â· {{ "text" | timeToRead }} of read

{{ content | safe }}
{%- for tag in tags | filterTagList -%} {%- set tagUrl %}/tags/{{
  tag | slug
}}/{% endset -%}
<a href="{{ tagUrl | url }}" class="post-tag animated-rainbow-hover">{{
  tag
}}</a>
{%- endfor %} {%- if collections.posts %} {%- set nextPost = collections.posts |
getNextCollectionItem(page) %} {%- set previousPost = collections.posts |
getPreviousCollectionItem(page) %} {%- if nextPost or previousPost %}
<div align="center">
  <button id="clickButton" class="bolts" data-button-id="{{ title }}">
    <span id="clickCount"></span>
    <img src="../../img/Bolt.svg" alt="Bolt" height="56" width="24" />
  </button>
</div>

<div class="post-footer">
  <div class="prev-post">
    {%- if previousPost %}&#9194;
    <a class="animated-rainbow-hover" href="{{ previousPost.url | url }}">{{
      previousPost.data.title
    }}</a
    >{% endif %}
  </div>
  <div class="next-post">
    {%- if nextPost %}<a
      class="animated-rainbow-hover"
      href="{{ nextPost.url | url }}"
      >{{ nextPost.data.title }}</a
    >
    &#9193;{% endif %}
  </div>
</div>
{%- endif %} {%- endif %}

<script>
  const clickButton = document.getElementById("clickButton");
  const clickCount = document.getElementById("clickCount");

  document.addEventListener("DOMContentLoaded", async () => {
    const buttonId = clickButton.dataset.buttonId;
    const response = await fetch(`/click/${buttonId}`, { method: "GET" });
    const data = await response.json();

    clickCount.textContent = data.totalClicks;

    clickButton.addEventListener("click", async () => {
      const buttonId = clickButton.dataset.buttonId;
      const response = await fetch(`/click/${buttonId}`, {
        method: "POST",
      });
      const data = await response.json();

      clickCount.textContent = data.totalClicks;
    });
  });
</script>
